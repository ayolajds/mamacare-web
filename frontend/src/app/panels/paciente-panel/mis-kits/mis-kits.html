<div class="mis-kits">
  <div class="page-header">
    <div class="header-content">
      <h1>Mis Kits de Cuidado</h1>
      <p>Gestiona y realiza seguimiento a tus kits de cuidado</p>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Cargando tus kits...</p>
  </div>

  <!-- Content -->
  <div *ngIf="!isLoading" class="kits-content">
    <!-- Estadísticas rápidas -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon entregado">
          <svg><!-- Icono de check --></svg>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{ kitsEntregados }}</span>
          <span class="stat-label">Entregados</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon camino">
          <svg><!-- Icono de camión --></svg>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{ kitsEnCamino }}</span>
          <span class="stat-label">En Camino</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon pendiente">
          <svg><!-- Icono de reloj --></svg>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{ kitsPendientes }}</span>
          <span class="stat-label">Pendientes</span>
        </div>
      </div>
    </div>

    <!-- Lista de kits -->
    <div class="kits-grid">
      <div *ngFor="let kit of kits" class="kit-card" [class]="getEstadoClass(kit.estado)">
        <div class="kit-header">
          <div class="kit-tipo">
            <span class="tipo-badge" [class]="getTipoClass(kit.tipo)">
              {{ getTipoText(kit.tipo) }}
            </span>
          </div>
          <span class="estado-badge" [class]="getEstadoClass(kit.estado)">
            {{ getEstadoText(kit.estado) }}
          </span>
        </div>
        
        <h3 class="kit-nombre">{{ kit.nombre }}</h3>
        <p class="kit-descripcion">{{ kit.descripcion }}</p>
        
        <div class="kit-info">
          <div class="info-item">
            <span class="label">Fecha de entrega:</span>
            <span class="value">{{ kit.fechaEntrega | date:'dd/MM/yyyy' }}</span>
          </div>
          <div *ngIf="kit.tracking" class="info-item">
            <span class="label">N° de seguimiento:</span>
            <span class="value tracking">{{ kit.tracking }}</span>
          </div>
        </div>

        <div class="contenido-section">
          <h4>Contenido del kit:</h4>
          <ul class="contenido-list">
            <li *ngFor="let item of kit.contenido">
              <span class="check-icon">✓</span>
              {{ item }}
            </li>
          </ul>
        </div>

        <div class="kit-actions">
          <button *ngIf="kit.estado === 'en_camino' && kit.tracking" 
                  class="btn-primary" 
                  (click)="verSeguimiento(kit.tracking!)">
            Ver Seguimiento
          </button>
          <button class="btn-secondary">Ver Detalles</button>
        </div>
      </div>
    </div>

    <!-- Estado vacío -->
    <div *ngIf="kits.length === 0" class="empty-state">
      <div class="empty-icon">
        <svg><!-- Icono de caja --></svg>
      </div>
      <h3>No tienes kits asignados</h3>
      <p>Tu primer kit será asignado pronto según tu plan de tratamiento.</p>
      <button class="btn-primary">Contactar Soporte</button>
    </div>
  </div>
</div>