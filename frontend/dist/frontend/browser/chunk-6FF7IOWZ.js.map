{
  "version": 3,
  "sources": ["src/app/pages/auth/forgot-password/forgot-password.ts", "src/app/pages/auth/forgot-password/forgot-password.html"],
  "sourcesContent": ["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../../shared/services/auth';\r\nimport { CommonModule } from '@angular/common';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule, CommonModule],\r\n  templateUrl: './forgot-password.html',\r\n  styleUrls: ['./forgot-password.scss']\r\n})\r\nexport class ForgotPassword {\r\n  forgotPasswordForm: FormGroup;\r\n  loading = false;\r\n  showSuccess = false;\r\n  errorMessage = '';\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {\r\n    this.forgotPasswordForm = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]]\r\n    });\r\n  }\r\n\r\n  get email() {\r\n    return this.forgotPasswordForm.get('email');\r\n  }\r\n\r\n  get emailErrors() {\r\n    if (this.email?.errors?.['required']) {\r\n      return 'El correo electrónico es obligatorio';\r\n    }\r\n    if (this.email?.errors?.['email']) {\r\n      return 'Por favor ingresa un correo electrónico válido';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.forgotPasswordForm.invalid) {\r\n      this.markAllFieldsAsTouched();\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.errorMessage = '';\r\n\r\n    this.authService.forgotPassword(this.forgotPasswordForm.value.email)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loading = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response) => {\r\n          this.showSuccess = true;\r\n          this.forgotPasswordForm.reset();\r\n          console.log('✅ Forgot password success:', response);\r\n        },\r\n        error: (error) => {\r\n          this.errorMessage = error.message || 'Error al enviar el correo. Intenta nuevamente.';\r\n          console.error('❌ Forgot password error:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  private markAllFieldsAsTouched() {\r\n    Object.keys(this.forgotPasswordForm.controls).forEach(key => {\r\n      this.forgotPasswordForm.get(key)?.markAsTouched();\r\n    });\r\n  }\r\n\r\n  onBackToLogin() {\r\n    this.router.navigate(['/login']);\r\n  }\r\n\r\n  closeSuccessModal() {\r\n    this.showSuccess = false;\r\n    this.onBackToLogin();\r\n  }\r\n}", "<div class=\"forgot-password\">\r\n  <div class=\"forgot-password__container\">\r\n    <!-- Header -->\r\n    <div class=\"forgot-password__header\">\r\n      <div class=\"forgot-password__logo\">\r\n        <img src=\"/imagenes/reset.jpg\" alt=\"Ma´Care\" class=\"logo\">\r\n      </div>\r\n      <h1 class=\"forgot-password__title\">¿Has olvidado tu contraseña?</h1>\r\n      <p class=\"forgot-password__subtitle\">\r\n        Te enviaremos un enlace para restablecer tu contraseña a tu correo electrónico\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Form -->\r\n    <form [formGroup]=\"forgotPasswordForm\" (ngSubmit)=\"onSubmit()\" class=\"forgot-password__form\">\r\n      \r\n      <!-- Email Field -->\r\n      <div class=\"form-group\">\r\n        <label for=\"email\" class=\"form-label\">Correo electrónico</label>\r\n        <input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          formControlName=\"email\"\r\n          class=\"form-input\"\r\n          [class.form-input--error]=\"email?.invalid && email?.touched\"\r\n          placeholder=\"tu@email.com\"\r\n          aria-describedby=\"email-error\"\r\n        >\r\n        <div *ngIf=\"email?.invalid && email?.touched\" class=\"error-message\" id=\"email-error\">\r\n          {{ emailErrors }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Error Message -->\r\n      <div *ngIf=\"errorMessage\" class=\"error-banner\">\r\n        {{ errorMessage }}\r\n      </div>\r\n\r\n      <!-- Submit Button -->\r\n      <button \r\n        type=\"submit\" \r\n        class=\"btn btn--primary btn--full\"\r\n        [disabled]=\"loading || forgotPasswordForm.invalid\"\r\n      >\r\n        <div class=\"btn__content\">\r\n          <span *ngIf=\"loading\" class=\"btn__loading\">\r\n            <div class=\"spinner\"></div>\r\n            Enviando...\r\n          </span>\r\n          <span *ngIf=\"!loading\">Enviar enlace de recuperación</span>\r\n        </div>\r\n      </button>\r\n    </form>\r\n\r\n    <!-- Back to Login -->\r\n    <div class=\"forgot-password__footer\">\r\n      <p class=\"forgot-password__back\">\r\n        <a (click)=\"onBackToLogin()\" class=\"forgot-password__link\">\r\n          ← Volver al inicio de sesión\r\n        </a>\r\n      </p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Success Modal -->\r\n  <div *ngIf=\"showSuccess\" class=\"modal-overlay\" (click)=\"closeSuccessModal()\">\r\n    <div class=\"modal\" (click)=\"$event.stopPropagation()\">\r\n      <div class=\"modal__header\">\r\n        <div class=\"modal__icon modal__icon--success\">\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n            <path d=\"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" \r\n                  stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </div>\r\n        <h3 class=\"modal__title\">¡Correo enviado!</h3>\r\n      </div>\r\n      \r\n      <div class=\"modal__body\">\r\n        <p>Hemos enviado un enlace de recuperación a tu correo electrónico.</p>\r\n        <p class=\"modal__hint\">Revisa tu bandeja de entrada y sigue las instrucciones para restablecer tu contraseña.</p>\r\n      </div>\r\n      \r\n      <div class=\"modal__footer\">\r\n        <button (click)=\"closeSuccessModal()\" class=\"btn btn--primary\">\r\n          Entendido\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"],
  "mappings": "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",
  "names": []
}
